(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[905],{8747:function(e,a,n){Promise.resolve().then(n.t.bind(n,3752,23)),Promise.resolve().then(n.bind(n,4739))},4739:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return I}});var i,r,t,o,s=n(9268),l=n(6006),c=n(4835),m=n.n(c),u=n(5846),d=n.n(u);n(3321),(i=t||(t={}))[i.O=0]="O",i[i.X=1]="X",(r=o||(o={})).InProgress="In Progress",r.Tied="Tied",r.OWon="Player O Won",r.XWon="Player X Won";let g=e=>"Game Over: ".concat(e),h=e=>{let{row:a,col:n}=e;return a>=0&&a<3&&n>=0&&n<3},v=(e,a,n,i)=>{let{row:r,col:t}=e,o=0;for(let e of i){let{row:i,col:s}=e,l={row:r+i,col:t+s};if(h(l)&&a[l.row][l.col]===n&&(o+=1),o>=3)return!0}return!1},f=m().range(-2,3).map(e=>({row:0,col:e})),p=m().range(-2,3).map(e=>({row:e,col:0})),w=m().range(-2,3).map(e=>({row:-e,col:-e})),P=m().range(-2,3).map(e=>({row:-e,col:e})),x=(e,a,n,i)=>{if(v(a,n,i,f)||v(a,n,i,p)||v(a,n,i,w)||v(a,n,i,P)){if(i===t.O||i===o.OWon)return o.OWon;if(i===t.X||i===o.XWon)return o.XWon}return 9===e?o.Tied:o.InProgress};var j=n(3380),y=n(9),T=n(9614),N=e=>{let{row:a,col:n,handleTileClick:i,tilePlayer:r}=e;return(0,s.jsxs)("div",{className:"tile tile_".concat(2===a?a:"r","_").concat(2===a&&2!==n?"c":n),onClick:()=>i({row:a,col:n}),children:[r===t.X&&(0,s.jsx)(j.G,{icon:y.g82,size:"lg"}),r===t.O&&(0,s.jsx)(j.G,{icon:T.diR})]})},O=e=>{let{miniGameLoc:a,focused:n,anyMiniGameAllowed:i,curPlayer:r,mainGameStatus:t,miniGameStatus:c,handleNext:u}=e,[d,g]=(0,l.useState)(0),[h,v]=(0,l.useState)(m().range(3).map(e=>m().range(3).map(e=>void 0))),[f,p]=(0,l.useState)(!0),w=(0,l.useCallback)(e=>{let{row:s,col:l}=e,f=t===o.InProgress&&c===o.InProgress&&(i||n&&m().isNil(h[s][l]));if(f){let n=m().cloneDeep(h);n[s][l]=r,v(n);let i=d+1;g(i);let t=x(i,e,n,r);u({loc:a,miniGameStatus:t},e)}},[t,c,i,r,a,n,h,v,d,g,u]);return(0,s.jsxs)("div",{className:"board ".concat(n?"board-focused":""),children:[c!==o.InProgress&&!f&&(0,s.jsx)("div",{className:"mini-game-tile",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:(0,s.jsx)(j.G,{icon:c===o.Tied?y.TzT:c===o.XWon?y.g82:T.diR})}),(c===o.InProgress||f)&&(0,s.jsx)("div",{onMouseLeave:()=>p(!1),children:m().range(3).map(e=>(0,s.jsx)("div",{className:"board-row",children:m().range(3).map(a=>(0,s.jsx)(N,{row:e,col:a,handleTileClick:w,tilePlayer:h[e][a]},"tic-tac-toe_".concat(e,"_").concat(a)))}))})]})},I=()=>{let[e,a]=(0,l.useState)(void 0),[n,i]=(0,l.useState)(t.X),[r,c]=(0,l.useState)(0),[u,h]=(0,l.useState)(m().range(3).map(e=>m().range(3).map(e=>o.InProgress))),[v,f]=(0,l.useState)(o.InProgress),[p,w]=(0,l.useState)("Welcome! Ultimate Tic Tac Toe involves playing 9 mini Tic Tac Toe games with two players: X and O. To win a mini game, you must place your letter in three tiles in a row (horizontally, vertically, or diagonally). To win the ultimate game, you must win 3 mini games in a row. Player X goes first. Please click on any tile to begin.");(0,l.useEffect)(()=>{0!==r&&(v!==o.InProgress?w(g(v)):e?w("Please click on an empty tile in the focused mini game."):w("Please click on any empty tile in any mini game"))},[r,v,e,w]);let P=(0,l.useCallback)((e,s)=>{let{loc:l,miniGameStatus:d}=e;n===t.O?i(t.X):i(t.O);let g=r+1;c(g);let{row:v,col:p}=l,w=u;if(d!==o.InProgress){(w=m().cloneDeep(u))[v][p]=d,h(w);let e=x(g,l,w,d);if(f(e),e!==o.InProgress){a(void 0);return}}w[s.row][s.col]===o.InProgress?a(s):a(void 0)},[u,h,r,c,f,n,i]);return(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("div",{className:"header",children:(0,s.jsx)(d(),{href:"/",children:"Back"})}),(0,s.jsxs)("div",{className:"game-wrapper",children:[(0,s.jsx)("h1",{children:"Ultimate Tic Tac Toe"}),(0,s.jsx)("h2",{className:"game-message",children:p}),(0,s.jsx)("div",{className:"ultimate-board",children:m().range(3).map(a=>(0,s.jsx)("div",{className:"ultimate-board-row",children:m().range(3).map(i=>(0,s.jsx)("div",{children:(0,s.jsx)(O,{miniGameLoc:{row:a,col:i},anyMiniGameAllowed:m().isNil(e),focused:a===(null==e?void 0:e.row)&&i===(null==e?void 0:e.col),mainGameStatus:v,miniGameStatus:u[a][i],curPlayer:n,handleNext:P})},"ultimate-tic-tac-toe_".concat(a,"_").concat(i)))},"ultimate-tic-tac-toe_".concat(a)))})]})]})}},3321:function(){},3752:function(){}},function(e){e.O(0,[350,626,120,667,488,744],function(){return e(e.s=8747)}),_N_E=e.O()}]);