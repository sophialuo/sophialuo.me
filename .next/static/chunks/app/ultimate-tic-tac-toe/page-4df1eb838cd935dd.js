(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[905],{8747:function(e,a,n){Promise.resolve().then(n.t.bind(n,3752,23)),Promise.resolve().then(n.bind(n,4739))},4739:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return _}});var i,r,s,t,l=n(9268),o=n(6006),c=n(4835),m=n.n(c),u=n(5846),d=n.n(u);n(3321),(i=s||(s={}))[i.O=0]="O",i[i.X=1]="X",(r=t||(t={})).InProgress="In Progress",r.Tied="Tied",r.OWon="Player O Won",r.XWon="Player X Won";let g=["Welcome!","Ultimate Tic Tac Toe involves playing 9 mini Tic Tac Toe games with two players: X and O.","To win a mini game, you must place your letter in three tiles in a row (horizontally, vertically, or diagonally).","To win the ultimate game, you must win 3 mini games in a row.","Player X goes first. Please click on any tile to begin."],h=["Please click on an empty tile in the focused mini game."],v=["Please click on any empty tile in any mini game"],p=e=>["Game Over: ".concat(e)],f=e=>{let{row:a,col:n}=e;return a>=0&&a<3&&n>=0&&n<3},w=(e,a,n,i)=>{let{row:r,col:s}=e,t=0;for(let e of i){let{row:i,col:l}=e,o={row:r+i,col:s+l};if(f(o)&&a[o.row][o.col]===n&&(t+=1),t>=3)return!0}return!1},P=m().range(-2,3).map(e=>({row:0,col:e})),x=m().range(-2,3).map(e=>({row:e,col:0})),j=m().range(-2,3).map(e=>({row:-e,col:-e})),y=m().range(-2,3).map(e=>({row:-e,col:e})),N=(e,a,n,i)=>{if(w(a,n,i,P)||w(a,n,i,x)||w(a,n,i,j)||w(a,n,i,y)){if(i===s.O||i===t.OWon)return t.OWon;if(i===s.X||i===t.XWon)return t.XWon}return 9===e?t.Tied:t.InProgress};var T=n(3380),b=n(9),O=n(9614),I=e=>{let{row:a,col:n,handleTileClick:i,tilePlayer:r}=e;return(0,l.jsxs)("div",{className:"tile tile_".concat(2===a?a:"r","_").concat(2===a&&2!==n?"c":n),onClick:()=>i({row:a,col:n}),children:[r===s.X&&(0,l.jsx)(T.G,{icon:b.g82,size:"lg"}),r===s.O&&(0,l.jsx)(T.G,{icon:O.diR})]})},X=e=>{let{miniGameLoc:a,focused:n,anyMiniGameAllowed:i,curPlayer:r,mainGameStatus:s,miniGameStatus:c,handleNext:u}=e,[d,g]=(0,o.useState)(0),[h,v]=(0,o.useState)(m().range(3).map(e=>m().range(3).map(e=>void 0))),[p,f]=(0,o.useState)(!0),w=(0,o.useCallback)(e=>{let{row:l,col:o}=e,p=s===t.InProgress&&c===t.InProgress&&(i||n&&m().isNil(h[l][o]));if(p){let n=m().cloneDeep(h);n[l][o]=r,v(n);let i=d+1;g(i);let s=N(i,e,n,r);u({loc:a,miniGameStatus:s},e)}},[s,c,i,r,a,n,h,v,d,g,u]);return(0,l.jsxs)("div",{className:"board ".concat(n?"board-focused":""),children:[c!==t.InProgress&&!p&&(0,l.jsx)("div",{className:"mini-game-tile",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:(0,l.jsx)(T.G,{icon:c===t.Tied?b.TzT:c===t.XWon?b.g82:O.diR})}),(c===t.InProgress||p)&&(0,l.jsx)("div",{onMouseLeave:()=>f(!1),children:m().range(3).map(e=>(0,l.jsx)("div",{className:"board-row",children:m().range(3).map(a=>(0,l.jsx)(I,{row:e,col:a,handleTileClick:w,tilePlayer:h[e][a]},"tic-tac-toe_".concat(e,"_").concat(a)))}))})]})},_=()=>{let[e,a]=(0,o.useState)(void 0),[n,i]=(0,o.useState)(s.X),[r,c]=(0,o.useState)(0),[u,f]=(0,o.useState)(m().range(3).map(e=>m().range(3).map(e=>t.InProgress))),[w,P]=(0,o.useState)(t.InProgress),[x,j]=(0,o.useState)(g);(0,o.useEffect)(()=>{0!==r&&(w!==t.InProgress?j(p(w)):e?j(h):j(v))},[r,w,e,j]);let y=(0,o.useCallback)((e,l)=>{let{loc:o,miniGameStatus:d}=e;n===s.O?i(s.X):i(s.O);let g=r+1;c(g);let{row:h,col:v}=o,p=u;if(d!==t.InProgress){(p=m().cloneDeep(u))[h][v]=d,f(p);let e=N(g,o,p,d);if(P(e),e!==t.InProgress){a(void 0);return}}p[l.row][l.col]===t.InProgress?a(l):a(void 0)},[u,f,r,c,P,n,i]);return(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)("div",{className:"header",children:(0,l.jsx)(d(),{href:"/",children:"Back"})}),(0,l.jsxs)("div",{className:"game-wrapper",children:[(0,l.jsx)("h1",{children:"Ultimate Tic Tac Toe"}),(0,l.jsx)("h2",{className:"game-message",children:x[0]}),x.length>0&&(0,l.jsx)("div",{className:"game-sub-message-wrapper",children:x.slice(1).map(e=>(0,l.jsx)("div",{className:"game-sub-message",children:e},e))}),(0,l.jsx)("div",{className:"ultimate-board",children:m().range(3).map(a=>(0,l.jsx)("div",{className:"ultimate-board-row",children:m().range(3).map(i=>(0,l.jsx)("div",{children:(0,l.jsx)(X,{miniGameLoc:{row:a,col:i},anyMiniGameAllowed:m().isNil(e),focused:a===(null==e?void 0:e.row)&&i===(null==e?void 0:e.col),mainGameStatus:w,miniGameStatus:u[a][i],curPlayer:n,handleNext:y})},"ultimate-tic-tac-toe_".concat(a,"_").concat(i)))},"ultimate-tic-tac-toe_".concat(a)))})]})]})}},3321:function(){},3752:function(){}},function(e){e.O(0,[350,626,120,667,488,744],function(){return e(e.s=8747)}),_N_E=e.O()}]);