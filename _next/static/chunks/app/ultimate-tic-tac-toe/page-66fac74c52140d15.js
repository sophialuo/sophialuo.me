(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[905],{5771:function(e,a,t){Promise.resolve().then(t.t.bind(t,813,23)),Promise.resolve().then(t.bind(t,5641))},5641:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return k}});var n,i,r,s,o=t(9268),l=t(6006),c=t(4835),m=t.n(c),u=t(5846),d=t.n(u);t(8917),(n=r||(r={}))[n.O=0]="O",n[n.X=1]="X",(i=s||(s={})).InProgress="In Progress",i.Tied="Tied",i.OWon="Player O Won",i.XWon="Player X Won";let g=["Welcome!","Ultimate Tic Tac Toe involves playing 9 mini Tic Tac Toe games with two players: X and O.","Anytime you click on a tile in a mini-game, the next player must select a tile in the mini-game that correponds to that tile in the larger ultimate game.","For instance, if Player X selects the top left tile of the middle mini game, Player O can then select any valid tile in the top left mini game.","If the top left mini game is already complete then Player O can select any tile from any mini-game that is in progress.","To win a mini game, you must place your letter in three tiles in a row (horizontally, vertically, or diagonally).","To win the ultimate game, you must win 3 mini games in a row.","Player X goes first. Please click on any tile to begin."],h=["Please click on an empty tile in the focused mini game."],p=["Please click on any empty tile in any mini game"],f=e=>["Game Over: ".concat(e)],v=e=>{let{row:a,col:t}=e;return a>=0&&a<3&&t>=0&&t<3},y=(e,a,t,n)=>{let{row:i,col:r}=e,s=0;for(let e of n){let{row:n,col:o}=e,l={row:i+n,col:r+o};if(v(l)&&a[l.row][l.col]===t&&(s+=1),s>=3)return!0}return!1},P=m().range(-2,3).map(e=>({row:0,col:e})),w=m().range(-2,3).map(e=>({row:e,col:0})),x=m().range(-2,3).map(e=>({row:-e,col:-e})),_=m().range(-2,3).map(e=>({row:-e,col:e})),N=(e,a,t,n)=>y(a,t,n,P)||y(a,t,n,w)||y(a,t,n,x)||y(a,t,n,_)?n:9===e?s.Tied:s.InProgress,j=(e,a,t)=>0===e?g:a!==s.InProgress?f(a):t?h:p;var O=t(3380),T=t(9),I=t(9614),b=e=>{let{row:a,col:t,isActive:n,handleTileClick:i,tileStatus:r}=e,[c,u]=(0,l.useState)(!1);return(0,o.jsxs)("div",{className:"tile tile-".concat(2===a?a:"r","-").concat(2===a&&2!==t?"c":t," ").concat(m().isNil(r)&&c&&n?"tile-hover":""),onClick:()=>i({row:a,col:t}),onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[r===s.XWon&&(0,o.jsx)(O.G,{className:"tile-icon",icon:T.g82,size:"lg"}),r===s.OWon&&(0,o.jsx)(O.G,{className:"tile-icon",icon:I.diR})]})},S=e=>{let{miniGameLoc:a,isActive:t,curPlayer:n,mainStatus:i,miniStatus:c,handleNext:u,wiggle:d,setWiggle:g}=e,[h,p]=(0,l.useState)(0),[f,v]=(0,l.useState)(m().range(3).map(e=>m().range(3).map(e=>void 0))),[y,P]=(0,l.useState)(!0),w=(0,l.useCallback)(e=>{let{row:i,col:o}=e,l=t&&m().isNil(f[i][o]);if(l){let t=m().cloneDeep(f),l=n===r.X?s.XWon:s.OWon;t[i][o]=l,v(t);let c=h+1;p(c);let d=N(c,e,t,l);u({loc:a,miniStatus:d},e)}},[i,c,t,n,a,f,v,h,p,u]);return(0,o.jsxs)("div",{className:"board ".concat(t?"board-focused":""," ").concat(d&&c===s.InProgress?"board-wiggle":""),onAnimationEnd:()=>g(!1),children:[c!==s.InProgress&&!y&&(0,o.jsx)("div",{className:"mini-game-tile",onMouseEnter:()=>P(!0),onMouseLeave:()=>P(!1),children:(0,o.jsx)(O.G,{icon:c===s.Tied?T.TzT:c===s.XWon?T.g82:I.diR})}),(c===s.InProgress||y)&&(0,o.jsx)("div",{onMouseLeave:()=>P(!1),children:m().range(3).map(e=>(0,o.jsx)("div",{className:"board-row",children:m().range(3).map(a=>(0,o.jsx)(b,{row:e,col:a,handleTileClick:w,tileStatus:f[e][a],isActive:t},"tic-tac-toe_".concat(e,"_").concat(a)))},"minigame-board-row-".concat(e)))})]})},k=()=>{let[e,a]=(0,l.useState)(!1),[t,n]=(0,l.useState)(void 0),[i,c]=(0,l.useState)(r.X),[u,g]=(0,l.useState)(0),[h,p]=(0,l.useState)(m().range(3).map(e=>m().range(3).map(e=>s.InProgress))),[f,v]=(0,l.useState)(s.InProgress),y=(0,l.useCallback)((e,t)=>{let{loc:o,miniStatus:l}=e;i===r.O?c(r.X):c(r.O);let m=u+1;g(m);let{row:d,col:y}=o,P=h,w=f;if(l!==s.InProgress&&((P=h)[d][y]=l,p(P),v(w=N(m,o,P,l))),w!==s.InProgress){n(void 0);return}P[t.row][t.col]===s.InProgress?n(t):n(void 0),a(!0)},[h,p,u,g,v,i,c,a]),P=(0,l.useMemo)(()=>j(u,f,t),[u,f,t]);return(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)("div",{className:"header",children:(0,o.jsx)(d(),{href:"/",children:"Back"})}),(0,o.jsxs)("div",{className:"game-wrapper",children:[(0,o.jsx)("h1",{children:"Ultimate Tic Tac Toe"}),(0,o.jsx)("h2",{className:"game-message",children:P[0]}),P.length>0&&(0,o.jsx)("div",{className:"game-sub-message-wrapper",children:P.slice(1).map(e=>(0,o.jsx)("div",{className:"game-sub-message",children:e},e))}),f===s.InProgress&&(0,o.jsx)("h2",{className:"game-message",children:"Next: Player ".concat(i===r.X?"X":"O")}),(0,o.jsx)("div",{className:"ultimate-board",children:m().range(3).map(n=>(0,o.jsx)("div",{className:"ultimate-board-row",children:m().range(3).map(r=>{let l=h[n][r],c=f===s.InProgress&&l===s.InProgress&&(m().isNil(t)||n===(null==t?void 0:t.row)&&r===(null==t?void 0:t.col));return(0,o.jsx)("div",{children:(0,o.jsx)(S,{miniGameLoc:{row:n,col:r},isActive:c,wiggle:f===s.InProgress&&e&&c,setWiggle:a,mainStatus:f,miniStatus:l,curPlayer:i,handleNext:y})},"ultimate-tic-tac-toe_".concat(n,"_").concat(r))})},"ultimate-tic-tac-toe_".concat(n)))})]})]})}},813:function(){},8917:function(){},3177:function(e,a,t){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=t(6006),i=Symbol.for("react.element"),r=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(e,a,t){var n,l={},c=null,m=null;for(n in void 0!==t&&(c=""+t),void 0!==a.key&&(c=""+a.key),void 0!==a.ref&&(m=a.ref),a)r.call(a,n)&&!o.hasOwnProperty(n)&&(l[n]=a[n]);if(e&&e.defaultProps)for(n in a=e.defaultProps)void 0===l[n]&&(l[n]=a[n]);return{$$typeof:i,type:e,key:c,ref:m,props:l,_owner:s.current}}a.jsx=l,a.jsxs=l},9268:function(e,a,t){"use strict";e.exports=t(3177)}},function(e){e.O(0,[626,350,82,614,667,488,744],function(){return e(e.s=5771)}),_N_E=e.O()}]);