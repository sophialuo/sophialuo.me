(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[905],{5771:function(e,a,n){Promise.resolve().then(n.t.bind(n,813,23)),Promise.resolve().then(n.bind(n,5641))},5641:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return k}});var i,t,s,l,o=n(9268),r=n(6006),c=n(4835),m=n.n(c),g=n(5846),d=n.n(g);n(8917),(i=s||(s={}))[i.O=0]="O",i[i.X=1]="X",(t=l||(l={})).InProgress="In Progress",t.Tied="Tied",t.OWon="Player O Won",t.XWon="Player X Won";let u=["Welcome!","Ultimate Tic Tac Toe involves playing 9 mini Tic Tac Toe games with two players: X and O.","Anytime you click on a tile in a mini-game, the next player must select a tile in the mini-game that correponds to that tile in the larger ultimate game.","For instance, if Player X selects the top left tile of the middle mini game, Player O can then select any valid tile in the top left mini game.","If the top left mini game is already complete then Player O can select any tile from any mini-game that is in progress.","To win a mini game, you must place your letter in three tiles in a row (horizontally, vertically, or diagonally).","To win the ultimate game, you must win 3 mini games in a row.","Player X goes first. Please click on any tile to begin."],h=["Please click on an empty tile in the focused mini game."],v=["Please click on any empty tile in any mini game"],p=e=>["Game Over: ".concat(e)],P=e=>{let{row:a,col:n}=e;return a>=0&&a<3&&n>=0&&n<3},y=(e,a,n,i)=>{let{row:t,col:s}=e,l=0;for(let e of i){let{row:i,col:o}=e,r={row:t+i,col:s+o};if(P(r)&&a[r.row][r.col]===n&&(l+=1),l>=3)return!0}return!1},f=m().range(-2,3).map(e=>({row:0,col:e})),w=m().range(-2,3).map(e=>({row:e,col:0})),x=m().range(-2,3).map(e=>({row:-e,col:-e})),N=m().range(-2,3).map(e=>({row:-e,col:e})),j=(e,a,n,i)=>y(a,n,i,f)||y(a,n,i,w)||y(a,n,i,x)||y(a,n,i,N)?i:9===e?l.Tied:l.InProgress,T=(e,a,n)=>0===e?u:a!==l.InProgress?p(a):n?h:v;var I=n(3380),b=n(9),O=n(9614),X=e=>{let{row:a,col:n,isActive:i,handleTileClick:t,tileStatus:s}=e,[c,g]=(0,r.useState)(!1);return(0,o.jsxs)("div",{className:"tile tile-".concat(2===a?a:"r","-").concat(2===a&&2!==n?"c":n," ").concat(m().isNil(s)&&c&&i?"tile-hover":""),onClick:()=>t({row:a,col:n}),onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:[s===l.XWon&&(0,o.jsx)(I.G,{className:"tile-icon",icon:b.g82,size:"lg"}),s===l.OWon&&(0,o.jsx)(I.G,{className:"tile-icon",icon:O.diR})]})},S=e=>{let{miniGameLoc:a,isActive:n,curPlayer:i,mainStatus:t,miniStatus:c,handleNext:g,wiggle:d,setWiggle:u}=e,[h,v]=(0,r.useState)(0),[p,P]=(0,r.useState)(m().range(3).map(e=>m().range(3).map(e=>void 0))),[y,f]=(0,r.useState)(!0),w=(0,r.useCallback)(e=>{let{row:t,col:o}=e,r=n&&m().isNil(p[t][o]);if(r){let n=m().cloneDeep(p),r=i===s.X?l.XWon:l.OWon;n[t][o]=r,P(n);let c=h+1;v(c);let d=j(c,e,n,r);g({loc:a,miniStatus:d},e)}},[t,c,n,i,a,p,P,h,v,g]);return(0,o.jsxs)("div",{className:"board ".concat(n?"board-focused":""," ").concat(d&&c===l.InProgress?"board-wiggle":""),onAnimationEnd:()=>u(!1),children:[c!==l.InProgress&&!y&&(0,o.jsx)("div",{className:"mini-game-tile",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:(0,o.jsx)(I.G,{icon:c===l.Tied?b.TzT:c===l.XWon?b.g82:O.diR})}),(c===l.InProgress||y)&&(0,o.jsx)("div",{onMouseLeave:()=>f(!1),children:m().range(3).map(e=>(0,o.jsx)("div",{className:"board-row",children:m().range(3).map(a=>(0,o.jsx)(X,{row:e,col:a,handleTileClick:w,tileStatus:p[e][a],isActive:n},"tic-tac-toe_".concat(e,"_").concat(a)))},"minigame-board-row-".concat(e)))})]})},k=()=>{let[e,a]=(0,r.useState)(!1),[n,i]=(0,r.useState)(void 0),[t,c]=(0,r.useState)(s.X),[g,u]=(0,r.useState)(0),[h,v]=(0,r.useState)(m().range(3).map(e=>m().range(3).map(e=>l.InProgress))),[p,P]=(0,r.useState)(l.InProgress),y=(0,r.useCallback)((e,n)=>{let{loc:o,miniStatus:r}=e;t===s.O?c(s.X):c(s.O);let m=g+1;u(m);let{row:d,col:y}=o,f=h,w=p;if(r!==l.InProgress&&((f=h)[d][y]=r,v(f),P(w=j(m,o,f,r))),w!==l.InProgress){i(void 0);return}f[n.row][n.col]===l.InProgress?i(n):i(void 0),a(!0)},[h,v,g,u,P,t,c,a]),f=(0,r.useMemo)(()=>T(g,p,n),[g,p,n]);return(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)("div",{className:"header",children:(0,o.jsx)(d(),{href:"/",children:"Back"})}),(0,o.jsxs)("div",{className:"game-wrapper",children:[(0,o.jsx)("h1",{children:"Ultimate Tic Tac Toe"}),(0,o.jsx)("h2",{className:"game-message",children:f[0]}),f.length>0&&(0,o.jsx)("div",{className:"game-sub-message-wrapper",children:f.slice(1).map(e=>(0,o.jsx)("div",{className:"game-sub-message",children:e},e))}),p===l.InProgress&&(0,o.jsx)("h2",{className:"game-message",children:"Next: Player ".concat(t===s.X?"X":"O")}),(0,o.jsx)("div",{className:"ultimate-board",children:m().range(3).map(i=>(0,o.jsx)("div",{className:"ultimate-board-row",children:m().range(3).map(s=>{let r=h[i][s],c=p===l.InProgress&&r===l.InProgress&&(m().isNil(n)||i===(null==n?void 0:n.row)&&s===(null==n?void 0:n.col));return(0,o.jsx)("div",{children:(0,o.jsx)(S,{miniGameLoc:{row:i,col:s},isActive:c,wiggle:p===l.InProgress&&e&&c,setWiggle:a,mainStatus:p,miniStatus:r,curPlayer:t,handleNext:y})},"ultimate-tic-tac-toe_".concat(i,"_").concat(s))})},"ultimate-tic-tac-toe_".concat(i)))})]})]})}},813:function(){},8917:function(){}},function(e){e.O(0,[350,626,120,667,488,744],function(){return e(e.s=5771)}),_N_E=e.O()}]);